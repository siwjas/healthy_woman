<% content_for :breadcrumbs do %>
  <%= render "shared/breadcrumb", current: "Detalhes da Gravidez", parents: [
    {label: "Calculadoras de Gravidez", url: account_team_pregnancy_calculators_path(current_team)}
  ] %>
<% end %>

<% content_for :actions do %>
  <%= link_to "Editar", edit_account_pregnancy_calculator_path(@pregnancy_calculator), class: "btn btn-secondary mr-2" %>
  <%= button_to "Excluir", account_pregnancy_calculator_path(@pregnancy_calculator), method: :delete, data: { confirm: "Tem certeza que deseja excluir esta calculadora?" }, class: "btn btn-danger" %>
<% end %>

<div class="container mx-auto px-4 py-8">
  <h1 class="text-2xl font-bold mb-6">Detalhes da Gravidez</h1>

  <div class="bg-white shadow overflow-hidden sm:rounded-lg">
    <div class="px-4 py-5 sm:px-6">
      <h3 class="text-lg leading-6 font-medium text-gray-900">Informações da Gravidez</h3>
      <p class="mt-1 max-w-2xl text-sm text-gray-500">Detalhes e cálculos baseados na sua última menstruação.</p>
    </div>
    <div class="border-t border-gray-200">
      <dl>
        <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Data da última menstruação</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @pregnancy_calculator.last_menstrual_period_date.strftime('%d/%m/%Y') %></dd>
        </div>
        <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Idade gestacional</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= "#{@pregnancy_calculator.weeks} semanas e #{@pregnancy_calculator.days} dias" %></dd>
        </div>
        <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Data provável do parto</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @pregnancy_calculator.due_date.strftime('%d/%m/%Y') %></dd>
        </div>
        <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Trimestre atual</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @pregnancy_calculator.current_trimester %></dd>
        </div>
        <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Observações</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @pregnancy_calculator.notes.present? ? @pregnancy_calculator.notes : "Nenhuma observação registrada" %></dd>
        </div>
      </dl>
    </div>
  </div>

  <div class="mt-8 bg-white shadow overflow-hidden sm:rounded-lg">
    <div class="px-4 py-5 sm:px-6">
      <h3 class="text-lg leading-6 font-medium text-gray-900">Desenvolvimento do Bebê</h3>
      <p class="mt-1 max-w-2xl text-sm text-gray-500">Informações sobre o desenvolvimento do bebê nesta fase.</p>
    </div>
    <div class="border-t border-gray-200 px-4 py-5">
      <% if @pregnancy_calculator.weeks < 4 %>
        <p class="text-sm text-gray-700">Nesta fase inicial, o óvulo fertilizado está se implantando no útero. As células começam a se dividir e formar o que será o embrião e a placenta.</p>
      <% elsif @pregnancy_calculator.weeks < 8 %>
        <p class="text-sm text-gray-700">O coração do bebê começa a bater e os órgãos principais começam a se formar. O embrião tem cerca de 1,3 cm de comprimento.</p>
      <% elsif @pregnancy_calculator.weeks < 12 %>
        <p class="text-sm text-gray-700">Todos os órgãos principais estão formados. O feto começa a se mover, embora você ainda não consiga sentir. Ele tem cerca de 6 cm de comprimento.</p>
      <% elsif @pregnancy_calculator.weeks < 16 %>
        <p class="text-sm text-gray-700">O sexo do bebê já pode ser determinado. O feto pode sugar o polegar e seus movimentos se tornam mais coordenados.</p>
      <% elsif @pregnancy_calculator.weeks < 20 %>
        <p class="text-sm text-gray-700">Você pode começar a sentir os movimentos do bebê. O cabelo começa a crescer e o bebê desenvolve um padrão de sono e vigília.</p>
      <% elsif @pregnancy_calculator.weeks < 24 %>
        <p class="text-sm text-gray-700">Os pulmões começam a se desenvolver mais. O bebê pode ouvir sons externos, incluindo sua voz.</p>
      <% elsif @pregnancy_calculator.weeks < 28 %>
        <p class="text-sm text-gray-700">O bebê abre os olhos e pode responder à luz. Seu sistema nervoso continua a se desenvolver rapidamente.</p>
      <% elsif @pregnancy_calculator.weeks < 32 %>
        <p class="text-sm text-gray-700">O bebê ganha peso rapidamente. Os ossos estão completamente formados, mas ainda são macios.</p>
      <% elsif @pregnancy_calculator.weeks < 36 %>
        <p class="text-sm text-gray-700">O bebê continua a ganhar peso. Os pulmões estão quase completamente desenvolvidos.</p>
      <% elsif @pregnancy_calculator.weeks < 40 %>
        <p class="text-sm text-gray-700">O bebê está quase pronto para nascer. A maioria dos órgãos está madura e funcionando bem.</p>
      <% else %>
        <p class="text-sm text-gray-700">Seu bebê está completamente desenvolvido e pronto para nascer a qualquer momento!</p>
      <% end %>
    </div>
  </div>

  <div class="mt-8">
    <%= link_to "Voltar para a lista", account_team_pregnancy_calculators_path(current_team), class: "text-indigo-600 hover:text-indigo-900" %>
  </div>
</div>
